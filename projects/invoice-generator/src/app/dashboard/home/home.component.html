<div class="container" *ngIf="user$ | async as userdata">
  <!-- <div class="atm-card w-96 h-56 rounded-lg px-5 py-4 bg-gradient-to-r from-blue-400 center-red-400 to-blue-600">
    <div class="h-full">
      <h1 class="font-semibold text-white text-lg">VISA</h1>
      <div class="flex h-32 justify-center items-center">
        <h1 class="tracking-widest text-white font-bold drop-shadow-sm text-2xl">1503 5260 5892 4230</h1>
      </div>
      <div class="bottom-0">
        <h6 class=ext-whit font-light text-xs">Name</h6>
        <h6 class="text-white font-bold drop-shadow-sm">{{ userdata.given_name }} {{ userdata.family_name }}</h6>
      </div>
    </div>
  </div> -->

  <div class="w-full">
    <h6 class="text-2xl mt-6 mb-10 font-semibold">My Dashboard</h6>

    <div class="">
      <!-- <img class="w-24 rounded-full block mx-auto" src="../../../assets/icons/ToyFaces_Colored_BG_56.jpg" alt="" /> -->
      <h6 class="md:text-sm text-sm">
        <span class="text-secondary-text"> Welcome, </span>

        <span class="md:text-2xl text-primary-text font-serif text-xl">
          <span class="font-semibold"
            ><br class="" />
            {{ userdata.given_name | titlecase }}</span
          >
          {{ userdata.family_name | titlecase }}
        </span>
      </h6>
    </div>

    <div class="flex mt-10 justify-center md:hidden items-center">
      <span>
        <a class="" routerLink="invoices/invoice-generator">
          <button
            class="
              md:px-3
              px-3
              py-2
              md:py-2
              text-sm
              md:border-2
              border-primary border
              bg-blue-50
              font-semibold
              text-primary
              rounded-md
            "
          >
            Create Invoice
          </button>
        </a>
      </span>
    </div>

    <div class="w-full mt-10 py-5" *ngIf="dashboard$ | async as dashboard">
      <div class="flex md:flex-row sm:flex-col flex-wrap">
        <div class="w-full xl:w-8/12 w-12/12">
          <div class="w-full px-0 md:px-0 py-0">
            <h2 class="text-lg font-medium">Invoice Statics</h2>
            <p class="text-xs text-gray-400 mb-5">
              last updated: {{ dashboard?.lastUpdatedDate * 1000 | date: 'short':'+0530' | dateAgo }}
            </p>
            <div class="flex justify-center md:justify-start flex-wrap md:flex-row gap-10 mt-10 md:mt-0 md:gap-40">
              <div class="flex flex-col gap-5">
                <span class="p-2 bg-white shadow rounded-md mx-auto">
                  <img class="w-7 block" src="../../../assets/icons/profits.png" alt="" />
                </span>
                <div class="text-center md:text-left">
                  <p class="text-2xl font-bold text-primary">{{ dashboard.invoiceTotal }}</p>
                  <span class="text-xs text-gray-500">Income</span>
                </div>
              </div>
              <div class="flex flex-col gap-5">
                <span class="p-2 bg-white shadow rounded-md mx-auto">
                  <img class="w-7 block" src="../../../assets/icons/customer.png" alt="" />
                </span>
                <div class="text-center md:text-left">
                  <p class="text-2xl font-bold text-primary">{{ dashboard.customerCount }}</p>
                  <span class="text-xs text-gray-500">Customers</span>
                </div>
              </div>
              <div class="flex flex-col gap-5">
                <span class="p-2 shadow bg-white rounded-md mx-auto">
                  <img class="w-7 block" src="../../../assets/icons/idea.png" alt="" />
                </span>
                <div class="text-center md:text-left">
                  <p class="text-2xl font-bold text-primary">{{ dashboard.invoiceCount }}</p>
                  <span class="text-xs text-gray-500">Invoices Generated</span>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="w-full md:mt-0 mt-10 xl:w-4/12 px-0 md:px-6">
          <div class="flex flex-row justify-between">
            <h2 class="mb-5">Recent Invoices</h2>
            <h6 class="text-sm">View All</h6>
          </div>

          <!-- <table class="table-auto w-full overflow-scroll" *ngIf="recentinvoices$ | async as recentinvoices">
            <tbody>
              <tr class="rounded-md" *ngFor="let item of recentinvoices">
                <td class="flex py-4 pr-4 justify-center">
                  <div class="p-2 shadow rounded-lg mx-auto bg-primary">
                    <img class="w-7 block filter invert" src="../../../assets/navbaricons/report.png" alt="" />
                  </div>
                </td>

                <td class="py-4">
                  <h6 class="text-sm font-semibold text-gray-700">{{ item?.to.name ? item?.to.name : 'noname' }}</h6>
                  <p class="text-xs text-gray-500 font-semibold">{{ item?.to.email ? item?.to.email : 'no email' }}</p>
                </td>
                <td class="px-8 py-4">
                  <h6>{{ item?.total | currency: item?.currency }}</h6>
                </td>
              </tr>
            </tbody>
          </table> -->
        </div>
      </div>
    </div>
  </div>
</div>
